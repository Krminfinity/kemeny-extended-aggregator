{
  "total_tests": 10,
  "passed_tests": 10,
  "failed_tests": 0,
  "pass_rate": 100.0,
  "test_summary": [
    {
      "test_name": "basic_paper_example",
      "description": "論文で使用された基本例",
      "input": {
        "care_recipients": [
          4,
          5,
          6,
          7
        ],
        "caregivers": [
          1,
          2,
          3
        ],
        "recipient_preferences": {
          "4": [
            1,
            3,
            2
          ],
          "5": [
            2,
            1,
            3
          ],
          "6": [
            2,
            1,
            3
          ],
          "7": [
            3,
            1,
            2
          ]
        },
        "caregiver_preferences": {
          "1": [
            4,
            7,
            5,
            6
          ],
          "2": [
            6,
            5,
            4,
            7
          ],
          "3": [
            7,
            4,
            5,
            6
          ]
        },
        "caregiver_capacities": {
          "1": 1,
          "2": 1,
          "3": 2
        }
      },
      "expected": {
        "matches": {
          "4": 1,
          "6": 2,
          "7": 3
        },
        "unmatched": [
          5
        ],
        "is_stable": true
      },
      "actual": {
        "matches": {
          "4": 1,
          "6": 2,
          "7": 3
        },
        "unmatched": [
          5
        ],
        "is_stable": true,
        "blocking_pairs": []
      },
      "passed": true,
      "sub_results": {
        "matches_correct": true,
        "unmatched_correct": true,
        "stability_correct": true
      }
    },
    {
      "test_name": "balanced_case",
      "description": "被介護者数とケアワーカー総容量が一致するケース",
      "input": {
        "care_recipients": [
          1,
          2,
          3
        ],
        "caregivers": [
          10,
          20,
          30
        ],
        "recipient_preferences": {
          "1": [
            10,
            20,
            30
          ],
          "2": [
            20,
            10,
            30
          ],
          "3": [
            30,
            20,
            10
          ]
        },
        "caregiver_preferences": {
          "10": [
            1,
            2,
            3
          ],
          "20": [
            2,
            1,
            3
          ],
          "30": [
            3,
            1,
            2
          ]
        },
        "caregiver_capacities": {
          "10": 1,
          "20": 1,
          "30": 1
        }
      },
      "expected": {
        "matches": {
          "1": 10,
          "2": 20,
          "3": 30
        },
        "unmatched": [],
        "is_stable": true
      },
      "actual": {
        "matches": {
          "1": 10,
          "2": 20,
          "3": 30
        },
        "unmatched": [],
        "is_stable": true,
        "blocking_pairs": []
      },
      "passed": true,
      "sub_results": {
        "matches_correct": true,
        "unmatched_correct": true,
        "stability_correct": true
      }
    },
    {
      "test_name": "insufficient_capacity",
      "description": "ケアワーカーの総容量が不足し未マッチが発生するケース",
      "input": {
        "care_recipients": [
          1,
          2,
          3,
          4
        ],
        "caregivers": [
          10,
          20
        ],
        "recipient_preferences": {
          "1": [
            10,
            20
          ],
          "2": [
            10,
            20
          ],
          "3": [
            20,
            10
          ],
          "4": [
            20,
            10
          ]
        },
        "caregiver_preferences": {
          "10": [
            1,
            2,
            3,
            4
          ],
          "20": [
            3,
            4,
            1,
            2
          ]
        },
        "caregiver_capacities": {
          "10": 1,
          "20": 2
        }
      },
      "expected": {
        "matches": {
          "1": 10,
          "3": 20,
          "4": 20
        },
        "unmatched": [
          2
        ],
        "is_stable": true
      },
      "actual": {
        "matches": {
          "1": 10,
          "3": 20,
          "4": 20
        },
        "unmatched": [
          2
        ],
        "is_stable": true,
        "blocking_pairs": []
      },
      "passed": true,
      "sub_results": {
        "matches_correct": true,
        "unmatched_correct": true,
        "stability_correct": true
      }
    },
    {
      "test_name": "high_capacity_caregiver",
      "description": "1人のケアワーカーが大容量を持つケース",
      "input": {
        "care_recipients": [
          1,
          2,
          3,
          4
        ],
        "caregivers": [
          10,
          20
        ],
        "recipient_preferences": {
          "1": [
            10,
            20
          ],
          "2": [
            10,
            20
          ],
          "3": [
            10,
            20
          ],
          "4": [
            20,
            10
          ]
        },
        "caregiver_preferences": {
          "10": [
            1,
            2,
            3,
            4
          ],
          "20": [
            4,
            3,
            2,
            1
          ]
        },
        "caregiver_capacities": {
          "10": 3,
          "20": 1
        }
      },
      "expected": {
        "matches": {
          "1": 10,
          "2": 10,
          "3": 10,
          "4": 20
        },
        "unmatched": [],
        "is_stable": true
      },
      "actual": {
        "matches": {
          "1": 10,
          "2": 10,
          "3": 10,
          "4": 20
        },
        "unmatched": [],
        "is_stable": true,
        "blocking_pairs": []
      },
      "passed": true,
      "sub_results": {
        "matches_correct": true,
        "unmatched_correct": true,
        "stability_correct": true
      }
    },
    {
      "test_name": "identical_preferences",
      "description": "同じ選好を持つ被介護者がいるケース",
      "input": {
        "care_recipients": [
          1,
          2,
          3
        ],
        "caregivers": [
          10,
          20
        ],
        "recipient_preferences": {
          "1": [
            10,
            20
          ],
          "2": [
            10,
            20
          ],
          "3": [
            10,
            20
          ]
        },
        "caregiver_preferences": {
          "10": [
            1,
            2,
            3
          ],
          "20": [
            3,
            2,
            1
          ]
        },
        "caregiver_capacities": {
          "10": 1,
          "20": 1
        }
      },
      "expected": {
        "matches": {
          "1": 10
        },
        "unmatched": [
          2,
          3
        ],
        "is_stable": true
      },
      "actual": {
        "matches": {
          "1": 10
        },
        "unmatched": [
          2,
          3
        ],
        "is_stable": true,
        "blocking_pairs": []
      },
      "passed": true,
      "sub_results": {
        "matches_correct": true,
        "unmatched_correct": true,
        "stability_correct": true
      }
    },
    {
      "test_name": "unpopular_caregiver",
      "description": "誰からも最優先されないケアワーカーがいるケース",
      "input": {
        "care_recipients": [
          1,
          2
        ],
        "caregivers": [
          10,
          20,
          30
        ],
        "recipient_preferences": {
          "1": [
            10,
            20,
            30
          ],
          "2": [
            20,
            10,
            30
          ]
        },
        "caregiver_preferences": {
          "10": [
            1,
            2
          ],
          "20": [
            2,
            1
          ],
          "30": [
            1,
            2
          ]
        },
        "caregiver_capacities": {
          "10": 1,
          "20": 1,
          "30": 1
        }
      },
      "expected": {
        "matches": {
          "1": 10,
          "2": 20
        },
        "unmatched": [],
        "is_stable": true
      },
      "actual": {
        "matches": {
          "1": 10,
          "2": 20
        },
        "unmatched": [],
        "is_stable": true,
        "blocking_pairs": []
      },
      "passed": true,
      "sub_results": {
        "matches_correct": true,
        "unmatched_correct": true,
        "stability_correct": true
      }
    },
    {
      "test_name": "circular_preferences",
      "description": "循環的な選好構造があるケース",
      "input": {
        "care_recipients": [
          1,
          2,
          3
        ],
        "caregivers": [
          10,
          20,
          30
        ],
        "recipient_preferences": {
          "1": [
            10,
            20,
            30
          ],
          "2": [
            20,
            30,
            10
          ],
          "3": [
            30,
            10,
            20
          ]
        },
        "caregiver_preferences": {
          "10": [
            2,
            3,
            1
          ],
          "20": [
            3,
            1,
            2
          ],
          "30": [
            1,
            2,
            3
          ]
        },
        "caregiver_capacities": {
          "10": 1,
          "20": 1,
          "30": 1
        }
      },
      "expected": {
        "matches": {
          "1": 10,
          "2": 20,
          "3": 30
        },
        "unmatched": [],
        "is_stable": true
      },
      "actual": {
        "matches": {
          "1": 10,
          "2": 20,
          "3": 30
        },
        "unmatched": [],
        "is_stable": true,
        "blocking_pairs": []
      },
      "passed": true,
      "sub_results": {
        "matches_correct": true,
        "unmatched_correct": true,
        "stability_correct": true
      }
    },
    {
      "test_name": "single_caregiver",
      "description": "ケアワーカーが1人だけのケース",
      "input": {
        "care_recipients": [
          1,
          2,
          3
        ],
        "caregivers": [
          10
        ],
        "recipient_preferences": {
          "1": [
            10
          ],
          "2": [
            10
          ],
          "3": [
            10
          ]
        },
        "caregiver_preferences": {
          "10": [
            2,
            1,
            3
          ]
        },
        "caregiver_capacities": {
          "10": 2
        }
      },
      "expected": {
        "matches": {
          "2": 10,
          "1": 10
        },
        "unmatched": [
          3
        ],
        "is_stable": true
      },
      "actual": {
        "matches": {
          "2": 10,
          "1": 10
        },
        "unmatched": [
          3
        ],
        "is_stable": true,
        "blocking_pairs": []
      },
      "passed": true,
      "sub_results": {
        "matches_correct": true,
        "unmatched_correct": true,
        "stability_correct": true
      }
    },
    {
      "test_name": "empty_preferences",
      "description": "一部の参加者が空の選好リストを持つケース",
      "input": {
        "care_recipients": [
          1,
          2
        ],
        "caregivers": [
          10,
          20
        ],
        "recipient_preferences": {
          "1": [
            10,
            20
          ],
          "2": []
        },
        "caregiver_preferences": {
          "10": [
            1,
            2
          ],
          "20": [
            1,
            2
          ]
        },
        "caregiver_capacities": {
          "10": 1,
          "20": 1
        }
      },
      "expected": {
        "matches": {
          "1": 10
        },
        "unmatched": [
          2
        ],
        "is_stable": true
      },
      "actual": {
        "matches": {
          "1": 10
        },
        "unmatched": [
          2
        ],
        "is_stable": true,
        "blocking_pairs": []
      },
      "passed": true,
      "sub_results": {
        "matches_correct": true,
        "unmatched_correct": true,
        "stability_correct": true
      }
    },
    {
      "test_name": "large_scale",
      "description": "より大規模なケース（10人の被介護者、5人のケアワーカー）",
      "input": {
        "care_recipients": [
          1,
          2,
          3,
          4,
          5,
          6,
          7,
          8,
          9,
          10
        ],
        "caregivers": [
          101,
          102,
          103,
          104,
          105
        ],
        "recipient_preferences": {
          "1": [
            101,
            102,
            103,
            104,
            105
          ],
          "2": [
            102,
            101,
            103,
            104,
            105
          ],
          "3": [
            103,
            102,
            101,
            104,
            105
          ],
          "4": [
            104,
            103,
            102,
            101,
            105
          ],
          "5": [
            105,
            104,
            103,
            102,
            101
          ],
          "6": [
            101,
            105,
            104,
            103,
            102
          ],
          "7": [
            102,
            101,
            105,
            104,
            103
          ],
          "8": [
            103,
            102,
            101,
            105,
            104
          ],
          "9": [
            104,
            103,
            102,
            101,
            105
          ],
          "10": [
            105,
            104,
            103,
            102,
            101
          ]
        },
        "caregiver_preferences": {
          "101": [
            1,
            6,
            2,
            7,
            3,
            8,
            4,
            9,
            5,
            10
          ],
          "102": [
            2,
            7,
            1,
            8,
            3,
            9,
            4,
            10,
            5,
            6
          ],
          "103": [
            3,
            8,
            4,
            9,
            1,
            6,
            2,
            7,
            5,
            10
          ],
          "104": [
            4,
            9,
            3,
            10,
            2,
            7,
            1,
            8,
            6,
            5
          ],
          "105": [
            5,
            10,
            6,
            1,
            7,
            2,
            8,
            3,
            9,
            4
          ]
        },
        "caregiver_capacities": {
          "101": 2,
          "102": 2,
          "103": 2,
          "104": 2,
          "105": 2
        }
      },
      "expected": {
        "matches": {
          "1": 101,
          "6": 101,
          "2": 102,
          "7": 102,
          "3": 103,
          "8": 103,
          "4": 104,
          "9": 104,
          "5": 105,
          "10": 105
        },
        "unmatched": [],
        "is_stable": true
      },
      "actual": {
        "matches": {
          "1": 101,
          "6": 101,
          "2": 102,
          "7": 102,
          "3": 103,
          "8": 103,
          "4": 104,
          "9": 104,
          "5": 105,
          "10": 105
        },
        "unmatched": [],
        "is_stable": true,
        "blocking_pairs": []
      },
      "passed": true,
      "sub_results": {
        "matches_correct": true,
        "unmatched_correct": true,
        "stability_correct": true
      }
    }
  ]
}